{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/wwwroot/APP/uniApp/V3长视频/MS_V3/pages/video/search.vue?afce","webpack:///D:/wwwroot/APP/uniApp/V3长视频/MS_V3/pages/video/search.vue?3f05","webpack:///D:/wwwroot/APP/uniApp/V3长视频/MS_V3/pages/video/search.vue?40f9","uni-app:///pages/video/search.vue","webpack:///D:/wwwroot/APP/uniApp/V3长视频/MS_V3/pages/video/search.vue?e041","webpack:///D:/wwwroot/APP/uniApp/V3长视频/MS_V3/pages/video/search.vue?7276"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAA6rB,CAAgB,6pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmEjtB;AACA,kH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,U,eACA,EACA,IADA,kBACA,CACA,SACA,gBADA,EAEA,2BAFA,EAGA,aAHA,EAIA,aAJA,EAKA,MALA,EAMA,cANA,EAOA,cAPA,EAQA,mBARA,EASA,WATA,EAUA,WAVA,EAWA,YAXA,EAYA,UAZA,EAaA,SAbA,EAcA,2BAdA,EAeA,aAfA,EAgBA,aAhBA,EAiBA,YAjBA,EAkBA,OAlBA,GAoBA,CAtBA,EAuBA,MAvBA,oBAuBA,CACA,qDACA,aACA,oCACA,8CACA,iBACA,uCADA,EAEA,gCACA;AACA,6BAFA,CAGA;AACA,OANA,EAOA,+BACA,qBACA,CATA,IAWA,CAvCA,EAwCA,6BACA,+CACA,wDACA,4BACA,CAFA,EAEA,IAFA,GAGA,CA7CA,EA8CA,WACA;AACA,aAFA,uBAEA,CACA,gBACA,qBADA,EAEA,kBAFA,EAGA,mBAHA,EAIA,gCACA,kBACA,qBACA,CAFA,MAEA,iBAEA,CACA,CAVA,IAYA,CAfA,EAgBA;AACA,gBAjBA,0BAiBA,CACA,iDACA,cACA,qCADA,EAEA,cAFA,EAGA;AACA;AACA,6DADA,EAJA;;AAOA;AACA,wBADA,EAPA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA;AAiBA;AACA;AACA,SAnBA;;AAqBA,KAxCA;AAyCA;AACA,aA1CA,qBA0CA,GA1CA,EA0CA;AACA;AACA;AACA,kBADA;AAEA,iBAFA;AAGA;AACA;AACA;AACA,SANA;AAOA;AACA;AACA,sCADA;AAEA,oBAFA;;AAIA;AACA,SAbA;;AAeA,KA3DA;AA4DA,YA5DA,oBA4DA,CA5DA,EA4DA;AACA;AACA,KA9DA;AA+DA,aA/DA,qBA+DA,CA/DA,EA+DA;AACA;AACA;AACA;AACA,KAnEA;AAoEA,aApEA,qBAoEA,CApEA,EAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA;AACA;AACA,6CADA;AAEA,sBAFA;AAGA;AACA;AACA,6DADA,EAJA;;AAOA;AACA,2BADA;AAEA,wBAFA;AAGA,2BAHA;AAIA,0BAJA,EAPA;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA,SAjDA;AAkDA;AACA;AACA,SApDA;AAqDA;AACA;AACA,SAvDA;;AAyDA,KA/IA;AAgJA,gBAhJA,0BAgJA;AACA;AACA;AACA,8CADA;AAEA,sBAFA;AAGA;AACA,wBADA,EAHA;;AAMA;AACA,6DADA,EANA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAtBA;AAuBA;AACA;AACA;AACA,SA1BA;AA2BA;AACA;AACA;AACA,SA9BA;;AAgCA,KAlLA;AAmLA;AACA,WApLA,qBAoLA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA7LA;AA8LA;AACA,WA/LA,qBA+LA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvMA;AAwMA;AACA,WAzMA,qBAyMA;AACA;AACA;AACA,mBADA;AAEA,oBAFA;AAGA,kBAHA;AAIA,uBAJA;;AAMA,KAjNA,EA9CA;;AAiQA;AACA,mBAlQA,+BAkQA;AACA;AACA;AACA,GArQA;AAsQA;AACA,eAvQA,2BAuQA;AACA;AACA;AACA;AACA;AACA;AACA,GA7QA;AA8QA;AACA,cA/QA,8BA+QA;AACA;AACA,GAjRA,E;;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AAAo/B,CAAgB,o6BAAG,EAAC,C;;;;;;;;;;;ACAxgC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/video/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/video/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=5a99ce96&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/video/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=5a99ce96&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.isShearchShow && _vm.hotHide\n      ? _vm.__map(_vm.hotList, function(e, h) {\n          var $orig = _vm.__get_orig(e)\n\n          var g0 = _vm.utils.timeTodate(\"Y/m/d\", e.update_time)\n          return {\n            $orig: $orig,\n            g0: g0\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<view class=\"head-content\" id=\"head\">\r\n\t\t\t<view class=\"head-placeholder\"></view>\r\n\t\t\t<view class=\"head-search\">\r\n\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t<view class=\"head-left\" @click=\"backUrl\">\r\n\t\t\t\t\t\t<image src=\"@/static/imgs/back1.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<view class=\"head-search-center\">\r\n\t\t\t\t\t<input class=\"head-input\" focus=\"true\" :value=\"search\" @input=\"inputKey\" confirm-type=\"search\" @confirm=\"searchKey(1)\" type=\"search\" maxlength=\"20\" placeholder=\"搜索一下,发现新世界...\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"head-right\" @click=\"searchKey(1)\">\r\n\t\t\t\t\t<image src=\"@/static/imgs/search.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view :style=\"{ height: topHeight + 'px' }\"></view>\r\n\t\t<view class=\"content\" v-if=\"isShearchShow\">\r\n\t\t\t<view class=\"search-log\" v-if=\"logHide\">\r\n\t\t\t\t<view class=\"search-log-top\">\r\n\t\t\t\t\t<text>历史搜索</text>\r\n\t\t\t\t\t<image src=\"@/static/imgs/del.png\" @click=\"delSearch\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"search-log-content\">\r\n\t\t\t\t\t<view class=\"search-log-list\" v-for=\"(t, i) in logList\" :key=\"i\" @click=\"searchLog(t.content)\">\r\n\t\t\t\t\t\t<text>{{t.content}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search-log\" v-if=\"hotHide\">\r\n\t\t\t\t<view class=\"search-log-top hot\">\r\n\t\t\t\t\t<text>热门搜索</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"search-hot-content\" v-for=\"(e, h) in hotList\" :key=\"h\" @click=\"playVideo(e.id)\">\r\n\t\t\t\t\t<view class=\"search-hot-list\">\r\n\t\t\t\t\t\t<text class=\"search-hot-sort one\" v-if=\"(h+1)==1\">{{h+1}}</text>\r\n\t\t\t\t\t\t<text class=\"search-hot-sort two\" v-if=\"(h+1)==2\">{{h+1}}</text>\r\n\t\t\t\t\t\t<text class=\"search-hot-sort thr\" v-if=\"(h+1)==3\">{{h+1}}</text>\r\n\t\t\t\t\t\t<text class=\"search-hot-sort\" v-if=\"(h+1)>3\">{{h+1}}</text>\r\n\t\t\t\t\t\t<text class=\"search-hot-time\">{{utils.timeTodate('Y/m/d',e.update_time)}}</text>\r\n\t\t\t\t\t\t<text class=\"search-hot-title\">{{e.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"video-list\" v-else>\r\n\t\t\t<view class=\"video-desc\">共搜索到{{videoCount}}个与<text class=\"colorRed\">{{search}}</text>相关的视频</view>\r\n\t\t\t<view class=\"video-info\" v-for=\"(v, k) in videoList\" :key=\"k\" @click=\"playVideo(v.id)\">\r\n\t\t\t\t<image :src=\"v.thumbnail\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view style=\"padding: 0 3px;\">\r\n\t\t\t\t\t<rich-text class=\"title\" :nodes=\"v.title\">...</rich-text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"moreTig\" v-if=\"isMoreTig\">{{isMoreMsg}}</view>\r\n\t\t</view>\r\n\t\t<!-- <view class=\"error\" v-else>\r\n\t\t\t<view style=\"width:100%;height:500upx;text-align:center;\">\r\n\t\t\t\t<image src=\"../../static/imgs/nodata.png\" style=\"width:280upx;height:180upx;\"></image>\r\n\t\t\t\t<view style=\"width:100%;font-size:25upx;color:#666;margin-top:30upx;\">没有找到搜索记录，搜一搜，发现新世界</view>\r\n\t\t\t</view>\r\n\t\t</view> -->\n\t</view>\n</template>\n\n<script>\r\nimport api from \"@/common/api.js\";\r\nimport utils from '@/components/shoyu-date/utils.filter.js';\r\nvar _self;\nexport default {\n\tdata() {\n\t\treturn {\r\n\t\t\tisMoreTig: false,\r\n\t\t\tisMoreMsg: '——— 我是有底线的 ———',\r\n\t\t\tisMore: false,\n\t\t\ttopHeight: 76,\r\n\t\t\tdid: 0,\r\n\t\t\tlogHide: false,\r\n\t\t\thotHide: false,\r\n\t\t\tisShearchShow: true,\r\n\t\t\tlogList: {},\r\n\t\t\thotList: {},\r\n\t\t\tisSearchs: 1,\r\n\t\t\tsearch: '',\r\n\t\t\tuserId: 0,\r\n\t\t\tutils: utils,\r\n\t\t\tvideoList: [],\r\n\t\t\tvideoCount: 0,\r\n\t\t\tscrollTop: 0,\r\n\t\t\tpage: 1,\n\t\t}\n\t},\r\n\tonLoad() {\r\n\t\tuni.showLoading({ title:'加载中,请稍后...',mask:true });\r\n\t\t_self = this;\r\n\t\tvar info = api.getLogins();\r\n\t\tif(info != false) _self.userId = info.userId;\r\n\t\tuni.getStorage({\r\n\t\t    key: 'mobileDid_'+ api.appkey,\r\n\t\t    success: (res)=> {\r\n\t\t\t\t// 从缓存中拉取\r\n\t\t\t\t_self.did = res.data;\r\n\t\t\t\t//console.log(_self.did)\r\n\t\t    },\r\n\t\t\tcomplete: ()=> {\r\n\t\t\t\t_self.getHotSearch();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmounted: function() {\r\n\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\tquery.select('#head').boundingClientRect(ah => {\r\n\t\t\t_self.topHeight = ah.height;\r\n\t\t}).exec();\t\r\n\t},\n\tmethods: {\r\n\t\t// 清空搜索记录\r\n\t\tdelSearch() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '确认清空搜索记录吗？',\r\n\t\t\t\tcancelText:'考虑一下',\r\n\t\t\t\tconfirmText:'清空记录',\r\n\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\tif(res.confirm) {\r\n\t\t\t\t\t\t_self.delSearchLog();\r\n\t\t\t\t\t}else if(res.cancel) {\r\n\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 同步接口清空搜索记录\r\n\t\tdelSearchLog() {\r\n\t\t\tuni.showLoading({ title:'处理中...',mask:true });\r\n\t\t\tuni.request({\r\n\t\t\t\turl: api.apiData.emptySearch,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\t//timeout: 3000,\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdid: _self.did\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t//console.log(e)\r\n\t\t\t\t\tif(e.data.Code==200){\r\n\t\t\t\t\t\t_self.logHide = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\t_self.msgData('服务器连接失败，请检查网络是否正常', 2000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 跳转播放页\r\n\t\tplayVideo(vid) {\r\n\t\t\t//console.log(vid);\r\n\t\t\tuni.setStorage({\r\n\t\t\t    key: 'vid',\r\n\t\t\t    data: vid,\r\n\t\t\t    fail: function() {\r\n\t\t\t        _self.msgData('服务器连接失败，请检查网络是否正常', 3000);\r\n\t\t\t\t\treturn false;\r\n\t\t\t    },\r\n\t\t\t\tcomplete: ()=> {\r\n\t\t\t\t\tvar param = {\r\n\t\t\t\t\t\turl: '/pages/video/search',\r\n\t\t\t\t\t\tt: 'new'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tapi.jumpUrl('/pages/video/play?type='+JSON.stringify(param), 'new');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tinputKey(e) {\r\n\t\t\t_self.search = e.detail.value;\r\n\t\t},\r\n\t\tsearchLog(e){\r\n\t\t\t_self.search = e;\r\n\t\t\t_self.searchKey(1);\r\n\t\t\t//console.log(e)\r\n\t\t},\r\n\t\tsearchKey(e) {\r\n\t\t\tif(e) _self.page = 1;\r\n\t\t\tuni.showLoading({ title:'搜索中,请稍后...',mask:true });\r\n\t\t\tif(_self.search.length==0){\r\n\t\t\t\t_self.msgData('请输入搜索关键字', 2000);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// 是否允许普通用户搜索\r\n\t\t\tif(!_self.isSearchs){\r\n\t\t\t\tif(_self.userId==0){\r\n\t\t\t\t\t_self.msgData('禁止游客使用搜索功能，请先登录', 2000);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t_self.skipUrl('/pages/login/login', 1)\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//console.log(_self.userId+'=='+_self.did+'=='+_self.search)\r\n\t\t\tuni.request({\r\n\t\t\t\turl: api.apiData.searchVideo,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\t//timeout: 3000,\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tuid: _self.userId,\r\n\t\t\t\t\tdid: _self.did,\r\n\t\t\t\t\tkey: _self.search,\r\n\t\t\t\t\tpage: _self.page\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t//console.log(e.data)\r\n\t\t\t\t\tvar data = e.data;\r\n\t\t\t\t\tif(data.Code == 201) {\r\n\t\t\t\t\t\t_self.msgData(data.Msg, 2000);\r\n\t\t\t\t\t\t//console.log(1)\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}else if(data.Code == 202){\r\n\t\t\t\t\t\t//console.log(2)\r\n\t\t\t\t\t\tif(e&&_self.page==1){\r\n\t\t\t\t\t\t\t_self.msgData(data.Msg, 2000);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_self.msgData(\"已到顶到胃了\", 2000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_self.isMoreMsg = \"——— 我是有底线的 ———\";\r\n\t\t\t\t\t\t_self.page = _self.page-1;\r\n\t\t\t\t\t\t_self.isMore = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//console.log(3)\r\n\t\t\t\t\tif(_self.page>1) _self.isMoreTig = true;\r\n\t\t\t\t\tif(data.Data.video.length>0){\r\n\t\t\t\t\t\t//console.log(data.Data.video.length)\r\n\t\t\t\t\t\t_self.isMoreMsg = \"正在加载数据...\";\r\n\t\t\t\t\t\tif(e&&_self.page==1){\r\n\t\t\t\t\t\t\t_self.videoList = data.Data.video;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_self.videoList = _self.videoList.concat(data.Data.video);\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t\t_self.videoCount= data.Data.count;\r\n\t\t\t\t\t_self.isShearchShow = false;\r\n\t\t\t\t\t_self.msgData('数据已加载完成', 2000);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t_self.getHotSearch();\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\t_self.msgData('服务器连接失败，请检查网络是否正常', 2000);\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: ()=> {\r\n\t\t\t\t\t//_self.getHotSearch();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetHotSearch() {\r\n\t\t\t//console.log(_self.did)\r\n\t\t\tuni.request({\r\n\t\t\t\turl: api.apiData.getHotSearch,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tdid: _self.did\r\n\t\t\t\t},\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tvar res = e.data.Data;\r\n\t\t\t\t\t//console.log(e);\r\n\t\t\t\t\t//console.log(e);\r\n\t\t\t\t\t_self.isSearchs = res.isSearchs;\r\n\t\t\t\t\tif(res.logList.length>0){\r\n\t\t\t\t\t\t_self.logList = res.logList;\r\n\t\t\t\t\t\t_self.logHide = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.hotList.length>0){\r\n\t\t\t\t\t\t_self.hotList = res.hotList;\r\n\t\t\t\t\t\t_self.hotHide = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: ()=> {\r\n\t\t\t\t\t// 加载失败提示\r\n\t\t\t\t\t_self.msgData('服务器连接失败，请检查网络是否正常', 3000);\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(){\r\n\t\t\t\t\t//_self.msgData('搜索已完成', 2000);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 返回上一层\r\n\t\tbackUrl() {\r\n\t\t\tif(_self.isShearchShow){\r\n\t\t\t\tapi.jumpUrl('/pages/index/index', 'tab');\r\n\t\t\t}else{\r\n\t\t\t\t_self.page = 1;\r\n\t\t\t\t_self.videoList = [];\r\n\t\t\t\t_self.isShearchShow = true;\r\n\t\t\t\t_self.isMore = false;\r\n\t\t\t}\r\n\t\t},\n\t\t// 跳转页面\r\n\t\tskipUrl(url = '/pages/login/login', type = 1) {\r\n\t\t\tif(type == 1){\r\n\t\t\t\tuni.reLaunch({ url: url });\r\n\t\t\t}else if(type == 2){\r\n\t\t\t\tuni.navigateTo({ url: url });\r\n\t\t\t}else{\r\n\t\t\t\tuni.switchTab({ url: url });\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 提示\r\n\t\tmsgData(title = '', times = 1000, style = 'none') {\r\n\t\t\t// 加载失败提示\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: style,\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tmask: true,\r\n\t\t\t\tduration: times\r\n\t\t\t});\r\n\t\t}\n\t},\r\n\t// 下拉刷新\r\n\tonPullDownRefresh() {\r\n\t\t_self.getHotSearch();\r\n\t\tuni.stopPullDownRefresh();\r\n\t},\r\n\t// 上拉加载数据\r\n\tonReachBottom(){ \r\n\t\tif(!_self.isMore){\r\n\t\t\t_self.page++;\r\n\t\t\t_self.searchKey(0);\r\n\t\t}\r\n\t\t//console.log(_self.page);\r\n\t},\r\n\t// 滚动监听事件\r\n\tonPageScroll({scrollTop}) {\r\n\t    _self.scrollTop = scrollTop;\r\n\t}\n}\n</script>\n\n<style>\r\n.moreTig{\r\n\ttext-align: center;\r\n\tcolor: #999999;\r\n\tfont-size: 25upx;\r\n\tmargin-top: 20upx;\r\n\t//background: #007AFF;\r\n\tpadding-bottom: 30px;\r\n}\r\n.colorRed{\r\n\tcolor: #B01A1C;\r\n}\r\n.video-list{\r\n\twidth: 97%;\r\n\t//height: 100upx;\r\n\t//background: #F8F8F8;\r\n\t//margin: 10px 5%;\r\n\tpadding: 1px 0 10px 3%;\r\n\t//border-radius: 5px;\r\n\t//text-align: center;\r\n}\r\n.video-desc{\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tfont-size: 12px;\r\n\tcolor: #666666;\r\n\tmargin: 10px 0;\r\n}\r\n.video-info{\r\n\twidth: 45%;\r\n\theight: 265upx;\r\n\t//background: #1AAD19;\r\n\tborder-radius: 5px;\r\n\tborder: 1px solid #E5E5E5;\r\n\tpadding-bottom: 8px;\r\n\tdisplay: inline-block;\r\n\tmargin: 0 0 3% 2%;\r\n\tfloat: left;\r\n}\r\n.video-info image{\r\n\twidth: 100%;\r\n\theight: 200upx;\r\n\tborder-radius: 5px 5px 0 0;\r\n}\r\n.video-info .title{\r\n\tfont-size: 12px;\r\n\t//color: #666666;\r\n\tline-height: 30upx;\r\n\tbackground: #007AFF;\r\n\t//padding: 0 3px;\r\n}\r\n.one{\r\n\tbackground: #B01A1C;\r\n\tcolor: #FFFFFF!important;\r\n}\r\n.two{\r\n\tbackground: #007AFF;\r\n\tcolor: #FFFFFF!important;\r\n}\r\n.thr{\r\n\tbackground: #A83FDB;\r\n\tcolor: #FFFFFF!important;\r\n}\r\n.search-hot-list{\r\n\twidth: 92%;\r\n\t/* height: 30px;\r\n\tline-height: 30px; */\r\n\tfont-size: 13px;\r\n\tborder-radius: 3px;\r\n\tmargin: 0 5% 0 3%;\r\n}\r\n.search-hot-sort{\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tline-height: 20px;\r\n\tdisplay: inline-block;\r\n\ttext-align: center;\r\n\t//background: #007AFF;\r\n\tborder-radius: 50%;\r\n\tcolor: #666666;\r\n}\r\n.search-hot-title{\r\n\twidth: 63%;\r\n\tpadding: 0 5% 0 0;\r\n\theight: 20px;\r\n\tline-height: 20px;\r\n\tdisplay: inline-block;\r\n\t//background: #1ABD6C;\r\n\tcolor: #777777;\r\n\tfloat: right;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n}\r\n.search-hot-time{\r\n\twidth: 22%;\r\n\t//background: #007AFF;\r\n\tfloat: right;\r\n\theight: 20px;\r\n\tline-height: 20px;\r\n\ttext-align: right;\r\n}\r\n.search-hot-content{\r\n\tmargin-top: 10px;\r\n\t//margin-left: -20upx;\r\n}\r\n.hot{\r\n\tmargin-bottom: 18px;\r\n}\r\n.search-log-content{\r\n\tmargin-top: 18px;\r\n\t//background: #007AFF;\r\n}\r\n.search-log-content view{\r\n\tdisplay: inline-block;\r\n}\r\n.search-log-list{\r\n\twidth: 25%;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\ttext-align: center;\r\n\tbackground: #f5f5f5;\r\n\tfont-size: 13px;\r\n\tborder-radius: 3px;\r\n\tcolor: #999999;\r\n\tmargin: 0 0 5px 10px;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tpadding: 0 5px;\r\n}\r\n.search-log{\r\n\tmargin-top: 10px;\r\n\tpadding: 0 35upx;\r\n\tfont-size: 17px;\r\n\tcolor: #666666;\r\n\tfont-weight: bold;\r\n\t//background: #007AFF;\r\n}\r\n.search-log-top{\r\n\t//height: 30px;\r\n\tline-height: 20px;\r\n\t//background: #007AFF;\r\n}\r\n.search-log-top image{\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tfloat: right;\r\n}\r\n.content{\r\n\tmargin-top: 18px;\r\n}\n.head-content{\r\n\twidth: 94%;\r\n\tbackground: #f8f8f8;\r\n\t//background: -webkit-gradient(linear, left top, right top, from(#ff8566), to(#ff6f33));   \r\n\tpadding: 0upx 25upx 10upx;\r\n\ttext-align: center;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tz-index: 999;\r\n\tborder-bottom: 1px solid #f3f3f3;\r\n}\r\n.head-placeholder{\r\n\t/*  #ifndef MP-WEIXIN */\r\n\theight: var(--status-bar-height);\r\n\t/*  #endif  */\r\n\tpadding-top: 16upx;\r\n\tbox-sizing: content-box;\r\n}\r\n.head-left{\r\n\twidth: 10%;\r\n\tdisplay: inline-block;\r\n\tfloat: left;\r\n}\r\n.head-left image{\r\n\twidth: 27px;\r\n\theight: 27px;\r\n\tmargin-top: 3px;\r\n\t//background: rgba(0,0,0,0.5);\r\n\tborder-radius: 50%;\r\n\topacity: 0.6;\r\n\tfilter: alpha(opacity=60);\r\n}\r\n.head-right{\r\n\twidth: 10%;\r\n\t//background: #007AFF;\r\n\tdisplay: inline-block;\r\n\tfloat: right;\r\n\ttext-align: left;\r\n}\r\n.head-right image{\r\n\twidth: 32px;\r\n\theight: 32px;\r\n\tborder-radius: 50%;\r\n}\r\n.head-search-center{\r\n\t/*  #ifndef MP-WEIXIN */\r\n\twidth: 73%;\r\n\t/*  #endif  */\r\n\t/*  #ifdef MP-WEIXIN */\r\n\twidth: 83%;\r\n\t/*  #endif  */\r\n\tdisplay: inline-block;\r\n\t//background-color: #007AFF;\r\n}\r\n.head-search .head-input{\r\n\theight: 32px;\r\n\tline-height: 32px;\r\n\tbackground: #E5E5E5;\r\n\tborder-radius: 50px;\r\n\tfont-size: 26upx;\r\n\tpadding: 0px 30upx;\r\n\ttext-align: left;\r\n\tcolor: #666666;\r\n}\r\n.error{\r\n\tmargin-top: 300upx;\r\n}\n</style>\n","import mod from \"-!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../thirteen/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607592806803\n      var cssReload = require(\"D:/thirteen/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}