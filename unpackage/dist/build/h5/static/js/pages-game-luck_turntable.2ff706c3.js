(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-game-luck_turntable"],{1548:function(t,i,e){"use strict";e.r(i);var a=e("6f69"),n=e("e1ee");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("973a");var s,r=e("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"27236f52",null,!1,a["a"],s);i["default"]=l.exports},"1de5":function(t,i,e){"use strict";t.exports=function(t,i){return i||(i={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),i.hash&&(t+=i.hash),/["'() \t\n]/.test(t)||i.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"45bb":function(t,i,e){var a=e("24fb"),n=e("1de5"),o=e("730b");i=a(!1);var s=n(o);i.push([t.i,".winning[data-v-50884fad]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:999}.winning-content[data-v-50884fad]{width:100%;height:%?580?%;top:45%;position:absolute;margin-top:%?-275?%;text-align:center;color:#b01a1c;font-weight:700}.winning-title[data-v-50884fad]{position:absolute;top:%?110?%;left:50%;width:%?180?%;font-size:%?25?%;margin-left:%?-85?%;text-align:left;line-height:%?40?%}.myLuck[data-v-50884fad]{position:relative;left:%?20?%;top:%?-10?%;padding:%?8?% 10px;border:1px solid #ffcb3f;color:#ffcb3f;font-size:13px;font-weight:700;border-radius:%?26?%;width:60px;text-align:center;z-index:9;line-height:%?40?%}.conbox[data-v-50884fad]{width:%?750?%;height:100vh;overflow-x:hidden;overflow-y:scroll}.container[data-v-50884fad],\r\nuni-image.cont[data-v-50884fad]{width:%?750?%;min-height:100vh;height:auto;position:relative}uni-image.cont[data-v-50884fad]{height:100%;position:absolute;z-index:0}uni-image.caidai[data-v-50884fad]{position:absolute;top:0;left:0;width:%?750?%;height:%?1024?%}.header[data-v-50884fad]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;\r\n\t/* height: 246upx; */\r\n\t/*padding-top: 48upx;\r\n */padding-bottom:%?40?%;box-sizing:border-box;position:relative;z-index:3}.header-title[data-v-50884fad]{width:100%;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?16?%;box-sizing:border-box;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.header-title .right[data-v-50884fad]{padding:%?2?% %?20?%;height:%?50?%;line-height:%?50?%;border:1px solid #d89720;color:#d89720;font-size:%?28?%;border-radius:%?26?%}\r\n/* 转盘 */.canvas-container[data-v-50884fad]{margin:0 auto;position:relative;width:%?600?%;height:%?600?%;background:url("+s+') no-repeat;background-size:cover;border-radius:50%}.canvas[data-v-50884fad]{width:100%;height:100%;display:block!important;border-radius:50%}.canvas-content[data-v-50884fad]{position:absolute;left:0;top:0;z-index:1;display:block;width:%?600?%;height:%?600?%;border-radius:inherit\r\n\t/* background-clip: padding-box; */\r\n\t/* background-color: #ffcb3f; */}.canvas-element[data-v-50884fad]{position:relative;z-index:1;width:inherit;height:inherit;border-radius:50%}.canvas-list[data-v-50884fad]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:9999}.canvas-item[data-v-50884fad]{position:absolute;left:0;top:0;width:100%;height:100%;color:#e4370e\r\n\t/* text-shadow: 0 1upx 1upx rgba(255, 255, 255, 0.6); */}.canvas-item-text[data-v-50884fad]{position:relative;display:block;padding-top:%?46?%;margin:0 auto;text-align:center;-webkit-transform-origin:50% %?300?%;transform-origin:50% %?300?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fb778b}.canvas-item-text uni-text[data-v-50884fad]{font-size:%?30?%}.canvas-item-text-img[data-v-50884fad]{width:%?50?%;height:%?50?%;padding-top:%?30?%}\r\n/* 分隔线 */.canvas-line[data-v-50884fad]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:99}.canvas-litem[data-v-50884fad]{position:absolute;left:%?300?%;top:0;width:%?3?%;height:%?300?%;background-color:rgba(228,55,14,.4);overflow:hidden;-webkit-transform-origin:50% %?300?%;transform-origin:50% %?300?%}\r\n/**  \r\n* 抽奖按钮  \r\n*/.canvas-btn[data-v-50884fad]{position:absolute;left:%?260?%;top:%?260?%;z-index:400;width:%?80?%;height:%?80?%;border-radius:50%;color:#f4e9cc;background-color:#e44025;line-height:%?80?%;text-align:center;font-size:%?26?%;text-shadow:0 -1px 1px rgba(0,0,0,.6);box-shadow:0 3px 5px rgba(0,0,0,.6);text-decoration:none}.canvas-btn[data-v-50884fad]::after{position:absolute;display:block;content:" ";left:%?12?%;top:%?-44?%;width:0;height:0;overflow:hidden;border-width:%?30?%;border-style:solid;border-color:transparent;border-bottom-color:#e44025}.canvas-btn.disabled[data-v-50884fad]{pointer-events:none;background:#b07a7b;color:#ccc}.canvas-btn.disabled[data-v-50884fad]::after{border-bottom-color:#b07a7b}.canvas-btn-table[data-v-50884fad]{color:#a83fdb;width:%?120?%;text-align:center;position:absolute;left:%?240?%;top:%?360?%;font-size:%?26?%;background-color:#fff;opacity:.9}.typecheckbox[data-v-50884fad]{width:100%;position:relative;z-index:3;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?20?%;box-sizing:border-box;color:#fff;font-size:%?28?%;top:%?-170?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?180?%;\r\n\t/*background: #007AFF;\r\n */-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end\r\n\t/* padding-top: 46upx; */}.typecheckbox uni-view[data-v-50884fad]{border:1px solid #ffcb3f;background:transparent;color:#ffcb3f;display:-webkit-box;display:-webkit-flex;display:flex;height:%?60?%;width:%?140?%;border-radius:%?50?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:flex;margin-left:%?20?%}.typecheckbox uni-view.active[data-v-50884fad]{background:#ff3637;color:#fff;border:1px solid hsla(0,0%,100%,.8)}.guize[data-v-50884fad]{width:%?502?%;\r\n\t/*min-height: 300upx;\r\n */display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:relative;z-index:3;background-image:-webkit-linear-gradient(top,#f48549,#f2642e);background-image:linear-gradient(-180deg,#f48549,#f2642e);border:%?18?% solid #e4431a;border-radius:16px;margin:%?-144?% auto;padding:%?48?%;\r\n\t/* box-sizing: border-box; */color:#fff}.guize .title[data-v-50884fad]{text-align:center;margin-bottom:%?28?%}.guize .g_item[data-v-50884fad]{font-family:PingFang-SC-Medium;font-size:%?24?%;color:#fff;letter-spacing:.5px;text-align:justify;line-height:20px}.shadowbox[data-v-50884fad]{width:%?750?%;height:100vh;position:fixed;top:0;left:0;z-index:999;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myrewards[data-v-50884fad]{width:%?600?%;min-height:%?80?%;background:#ffeedf;border:%?10?% solid #f2692f;color:#333;font-size:%?24?%;font-family:PingFang-SC-Medium;border-radius:%?40?%;padding-bottom:%?20?%}.myrewards .title[data-v-50884fad]{font-family:PingFang-SC-Bold;font-size:16px;color:#e4431a;letter-spacing:.57px;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?36?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.myrewards .itembox[data-v-50884fad]{max-height:%?320?%;overflow-y:auto}.myrewards .item[data-v-50884fad]{width:100%;height:%?50?%;padding:0 %?32?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}',""]),t.exports=i},"517d":function(t,i,e){var a=e("45bb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("bbc6c3f6",a,!0,{sourceMap:!1,shadowMode:!1})},6898:function(t,i,e){"use strict";e.r(i);var a=e("e7cf"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"6f69":function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-canvas",{staticClass:"fire-canvas",style:{width:t.width+"px",height:t.height+"px","z-index":t.zIndex},attrs:{"canvas-id":t.canvasId},on:{error:function(i){arguments[0]=i=t.$handleEvent(i),t.canvasIdErrorCallback.apply(void 0,arguments)}}})},o=[]},"730b":function(t,i,e){t.exports=e.p+"static/img/circle.2fd04c3a.png"},8976:function(t,i,e){"use strict";var a=e("517d"),n=e.n(a);n.a},"973a":function(t,i,e){"use strict";var a=e("a710"),n=e.n(a);n.a},a710:function(t,i,e){var a=e("ef2f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("590fac24",a,!0,{sourceMap:!1,shadowMode:!1})},ac14:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"conbox"},[a("v-uni-view",{staticClass:"container"},[a("v-uni-image",{staticClass:"cont",attrs:{src:t.awardsConfig.bg,mode:"aspectFill"}}),a("v-uni-image",{staticClass:"caidai",attrs:{src:e("ecc8"),mode:""}}),a("v-uni-view",{staticClass:"header",style:{padding:t.top+"px 0 40upx 0"}},[a("v-uni-view",{staticClass:"header-title"},[a("v-uni-view",{staticClass:"left"}),1==t.mold?a("v-uni-view",{staticClass:"right"},[t._v("抽奖次数："),a("v-uni-text",{staticStyle:{color:"#E4431A","margin-right":"3px"}},[t._v(t._s(t.chishu))]),t._v("次")],1):a("v-uni-view",{staticClass:"right"},[t._v("账户金币："),a("v-uni-text",{staticStyle:{color:"#E4431A","margin-right":"3px"}},[t._v(t._s(t.awardsConfig.gold))]),t._v("个")],1)],1)],1),a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"canvas-container"},[a("v-uni-view",{staticClass:"canvas-content",style:t.zhuanpano,attrs:{animation:t.animationData,id:"zhuanpano"}},[a("v-uni-view",{staticClass:"canvas-line"},t._l(t.awardsList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"canvas-litem",style:[{transform:"rotate("+t.lineTurn+")"}]})})),1),a("v-uni-view",{staticClass:"canvas-list"},t._l(t.awardsList,(function(i,e){return a("v-uni-view",{key:e,staticClass:"canvas-item",style:[{zIndex:e}]},[a("v-uni-view",{staticClass:"canvas-item-text",style:[{transform:"rotate("+i.turn+")"}]},[a("v-uni-text",[t._v(t._s(i.award))]),a("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:i.ico}}),i.amount>0?a("v-uni-text",{staticStyle:{"font-size":"12px","margin-top":"5px"}},[t._v("+"+t._s(i.amount))]):t._e()],1)],1)})),1)],1),a("v-uni-view",{staticClass:"canvas-btn",class:t.btnDisabled,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.playReward.apply(void 0,arguments)}}},[t._v("开始")])],1)],1),a("v-uni-view",{staticClass:"myLuck",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getmyPrize.apply(void 0,arguments)}}},[t._v("查看我的奖品列表")]),a("v-uni-view",{staticClass:"typecheckbox"},t._l(t.awardsConfig.luckMold,(function(i,e){return a("v-uni-view",{key:e,class:t.mold==e?"left active":"left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.choosetype(e)}}},[t._v(t._s(i))])})),1),a("v-uni-view",{staticClass:"guize"},[a("v-uni-view",{staticClass:"title"},[t._v("规则说明")]),a("v-uni-view",{staticClass:"g_item"},[t._v("1.抽奖方式分两种：免费抽奖和金币抽奖；")]),a("v-uni-view",{staticClass:"g_item"},[t._v("2.免费：完成指定任务可获得免费抽奖次数；")]),a("v-uni-view",{staticClass:"g_item"},[t._v("3.金币：消耗"+t._s(t.awardsConfig.payGold)+"个金币数可抽奖一次；")]),a("v-uni-view",{staticClass:"g_item"},[t._v("4.用户中奖奖品，可在我的奖品列表里查看，实物奖品请联系平台客服。")])],1),t.r_flg?a("v-uni-view",{staticClass:"shadowbox",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeshadow.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"myrewards",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.openshadow.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"title",staticStyle:{"margin-bottom":"10px"}},[t._v("我的奖品")]),a("v-uni-view",{staticClass:"itembox"},[t._l(t.myPrizelist,(function(i,e){return a("v-uni-view",{key:e,staticClass:"item"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticStyle:{width:"14px",height:"14px",float:"left","margin-right":"10px","margin-top":"-1px"},attrs:{src:i.img}}),a("v-uni-text",[t._v(t._s(i.name))])],1),a("v-uni-text",{staticClass:"right"},[t._v(t._s(t.utils.timeTodate("Y/m/d H:i",i.createtime)))])],1)})),t.isMyPrizelist?t._e():a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticStyle:{color:"#DD524D",margin:"auto"}},[t._v("你还没有奖品，快去试试手气吧")])],1)],2)],1)],1):t._e(),t.isWinning?a("v-uni-view",{staticClass:"winning",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isWinningFun.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"winning-content"},[a("v-uni-image",{staticStyle:{height:"100%"},attrs:{src:"/static/img/winning.png"}}),a("v-uni-view",{staticClass:"winning-title"},[a("v-uni-view",{staticStyle:{"font-size":"33upx",width:"100%","text-align":"center","line-height":"30px"}},[t._v(t._s(t.winningTitle))]),a("v-uni-text",[t._v(t._s(t.winningContent))])],1)],1)],1):t._e()],1)],1)},o=[]},cb29:function(t,i,e){var a=e("23e7"),n=e("81d5"),o=e("44d2");a({target:"Array",proto:!0},{fill:n}),o("fill")},d1bc:function(t,i,e){"use strict";e("d3b7"),e("e25e"),e("ac1f"),e("25f0"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={friendlyDate:function(t){var i=10==t.toString().length?parseInt(t+"000"):t,e={year:"%n% 年前",month:"%n% 月前",day:"%n% 天前",hour:"%n% 小时前",minute:"%n% 分钟前",second:"%n% 秒前"},a=Date.now(),n=Math.floor((a-parseInt(i))/1e3),o=Math.floor(n/60),s=Math.floor(o/60),r=Math.floor(s/24),l=Math.floor(r/30),d=Math.floor(l/12),c="",u=0;return d>0?(c="year",u=d):l>0?(c="month",u=l):r>0?(c="day",u=r):s>0?(c="hour",u=s):o>0?(c="minute",u=o):(c="second",u=0===n?n=1:n),e[c].replace("%n%",u)},timeTodate:function(t,i){var e=10==i.toString().length?parseInt(i+"000"):i,a=new Date;a.getYear(),a.getFullYear(),a.getMonth(),a.getDate(),a.getDay(),a.getTime(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds(),a.toLocaleDateString();a.toLocaleTimeString();a.toLocaleString();var n=new Date(e),o=n.getSeconds(),s=("0"+n.getMinutes()).substr(-2),r=n.getHours()<10?"0"+n.getHours():n.getHours(),l=("0"+n.getDate()).substr(-2),d=("0"+(n.getMonth()+1)).substr(-2),c=n.getFullYear(),u="自定义替换值";return t.replace("Y",c).replace("m",d).replace("d",l).replace("H",r).replace("i",s).replace("s",o).replace("index",u)}};i.default=a},d30a:function(t,i,e){"use strict";(function(t){e("cb29"),e("4de4"),e("a9e3"),e("e25e"),e("ac1f"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||function(t){setTimeout(t,1e3/60)},n=uni.getSystemInfoSync(),o=null,s={props:{particleCount:{type:[Number,String],default:150},angle:{type:[Number,String],default:90},spread:{type:[Number,String],default:100},startVelocity:{type:[Number,String],default:45},decay:{type:[Number,String],default:.9},ticks:{type:[Number,String],default:150},zIndex:{type:[Number,String],default:1},colors:{type:Array,default:function(){return["#5BC0EB","#2176AE","#FDE74C","#9BC53D","#E55934","#FA7921","#FF4242"]}},canvasId:{type:String,default:"fireCanvas"},width:{type:[Number,String],default:function(){return n.windowWidth}},height:{type:[Number,String],default:function(){return n.windowHeight}},x:{type:[Number,String],default:function(){return n.windowWidth/2}},y:{type:[Number,String],default:function(){return.4*n.windowHeight}}},data:function(){return{pixelRatio:n.pixelRatio}},created:function(){t("log","created"," at components/sanshui-fireworks/index.vue:125"),this.initCanvas()},methods:{parseInt16:function(t){return parseInt(t,16)},canvasIdErrorCallback:function(i){t("error",i.detail.errMsg," at components/sanshui-fireworks/index.vue:136")},initCanvas:function(){o=null,o=uni.createCanvasContext(this.canvasId,this),o.fillRect(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),o.scale(this.pixelRatio,this.pixelRatio),o.save(),this.fireworksDraw()},fireworksDraw:function(){for(var t=[],i=this.particleCount,e=null,n=null,s=null,r=null;i--;)e={x:this.x,y:this.y,angle:this.angle,spread:this.spread,startVelocity:this.startVelocity,color:this.colors[i%this.colors.length],ticks:this.ticks,decay:this.decay},r=0,n=e.angle*(Math.PI/180),s=e.spread*(Math.PI/180),t.push({x:e.x,y:e.y,depth:.5*Math.random()+.6,wobble:10*Math.random(),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-n+(.5*s-Math.random()*s),tiltAngle:Math.random()*Math.PI,color:(r=(e.color+"").replace(/[^0-9a-f]/gi,""),r.length<6&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),{r:this.parseInt16(r.substring(0,2)),g:this.parseInt16(r.substring(2,4)),b:this.parseInt16(r.substring(4,6))}),tick:0,totalTicks:e.ticks,decay:e.decay,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0});a((function i(){o&&(o.draw(),o.restore(),t=t.filter((function(t){return t.x+=Math.cos(t.angle2D)*t.velocity,t.y+=Math.sin(t.angle2D)*t.velocity+5*t.depth,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.02*Math.random()+.12,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+4,t.wobbleX=t.x+10*Math.cos(t.wobble)*t.depth,t.wobbleY=t.y+10*Math.sin(t.wobble)*t.depth,o.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-t.tick++/t.totalTicks)+")",o.beginPath(),o.moveTo(Math.floor(t.x),Math.floor(t.y)),o.lineTo(Math.floor(t.wobbleX),Math.floor(t.y+t.random*t.tiltSin)),o.lineTo(Math.floor(t.wobbleX+t.random*t.tiltCos),Math.floor(t.wobbleY+t.random*t.tiltSin)),o.lineTo(Math.floor(t.x+t.random*t.tiltCos),Math.floor(t.wobbleY)),o.closePath(),o.fill(),t.tick<t.totalTicks})),t.length?a(i):o=null)}))}}};i.default=s}).call(this,e("0de9")["log"])},ddef:function(t,i,e){"use strict";e.r(i);var a=e("ac14"),n=e("6898");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("8976");var s,r=e("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"50884fad",null,!1,a["a"],s);i["default"]=l.exports},e1ee:function(t,i,e){"use strict";e.r(i);var a=e("d30a"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},e7cf:function(t,i,e){"use strict";var a=e("4ea4");e("4160"),e("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,o=a(e("a4c7")),s=a(e("d1bc")),r=a(e("1548")),l={components:{fireworks:r.default},data:function(){return{awardsConfig:{chance:!0,lists:[],luckMold:[]},awardsList:{},animationData:{},btnDisabled:"",thanksarr:[],chishu:0,mold:1,r_flg:0,myPrizelist:[],userId:0,zhuanpano:"",utils:s.default,top:30,isWinning:!1,winningTitle:"中奖啦",winningContent:"正在加载中...",gameId:0,isMyPrizelist:!1}},onLoad:function(t){uni.showLoading({title:"加载中...",mask:!0});var i=uni.getSystemInfoSync();this.top=i.safeArea.top+10,this.gameId=t.gid;var e=o.default.getLogins();!1===e?this.skipUrl():(this.userId=e.userId,this.initdata(this))},methods:{isWinningFun:function(){this.isWinning=!this.isWinning},getmyPrize:function(){uni.showLoading({title:"加载中...",mask:!0}),uni.stopPullDownRefresh();var t=this;uni.request({url:o.default.apiData.getPrize+"/gameId/"+t.gameId+"/userId/"+t.userId+"/type/3/page/1/num/500",method:"GET",success:function(i){if(uni.hideLoading(),201==i.data.Code)return t.msgData(i.data.Msg,3e3),!1;var e=i.data.Data;t.myPrizelist=e.lists,t.myPrizelist.length>0&&(t.isMyPrizelist=!0),t.r_flg=1},fail:function(){uni.hideLoading(),t.msgData("服务器连接失败，请检查网络是否正常",3e3)}})},openshadow:function(){this.r_flg=1},closeshadow:function(){this.r_flg=0},choosetype:function(t){uni.showLoading({title:"切换中...",mask:!0}),this.mold=t,this.initdata(this)},initdata:function(t){uni.request({url:o.default.apiData.getPrize+"/gameId/"+t.gameId+"/userId/"+t.userId+"/type/1/mold/"+t.mold,method:"GET",success:function(i){if(uni.hideLoading(),201==i.data.Code)return t.msgData(i.data.Msg,3e3),!1;var e=i.data.Data;t.awardsConfig=e,t.chishu=e.luckdraw,o.default.imgCache(t.awardsConfig.bg,(function(i){t.awardsConfig.bg=i}));t.awardsConfig.lists.length;t.awardsConfig.lists.forEach((function(t,i){t.index=i})),t.drawAwardRoundel()},fail:function(){t.msgData("服务器连接失败，请检查网络是否正常",3e3)}})},drawAwardRoundel:function(){for(var t=this.awardsConfig.lists,i=[],e=1/t.length*360,a=0;a<t.length;a++)i.push({turn:a*e+"deg",lineTurn:a*e+e/2+"deg",award:t[a].name,type:t[a].type,id:t[a].id,ico:t[a].img,amount:t[a].amount});1==this.mold?this.btnDisabled=this.chishu?"":"disabled":this.btnDisabled=this.awardsConfig.gold<this.awardsConfig.payGold?"disabled":"",this.awardsList=i},playReward:function(){uni.showLoading({title:"正在抽奖...",mask:!0});var t=this;if(1==t.mold){if(t.chishu<1)return t.msgData("抽奖次数已经用完",3e3),void(t.btnDisabled="disabled")}else if(t.awardsConfig.gold<t.awardsConfig.payGold)return t.msgData("账户金币不足，请充值",3e3),void(t.btnDisabled="disabled");t.btnDisabled="disabled",uni.request({url:o.default.apiData.getPrize+"/gameId/"+t.gameId+"/userId/"+t.userId+"/type/2/mold/"+t.mold,method:"GET",header:{"Content-type":"application/x-www-form-urlencoded"},success:function(i){uni.hideLoading();var e=i.data.Data;if(201==i.data.Code)return t.msgData(i.data.Msg,3e3),t.btnDisabled="",!1;var a=3;t.awardsList.forEach((function(t,i){t.id==e.id&&(a=i)}));var n=t.awardsConfig.lists,o=8,s=4e3;t.runDeg=t.runDeg||0;t.runDeg;t.runDeg=t.runDeg+(360-t.runDeg%360)+(360*o-a*(360/n.length))+1;var r=uni.createAnimation({duration:s,timingFunction:"ease"});r.rotate(t.runDeg).step(),t.animationData=r.export(),t.btnDisabled="disabled";t.awardsConfig;1==t.mold?t.chishu=t.chishu-1:t.awardsConfig.gold=t.awardsConfig.gold-t.awardsConfig.payGold,setTimeout(function(){t.winningTitle=e.title,t.winningContent=e.content,t.isWinningFun(),setTimeout((function(){t.zhuanpano=""}),1e3),t.btnDisabled=""}.bind(t),s)},fail:function(){n.msgData("服务器连接失败，请检查网络是否正常",3e3)}})},msgData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";uni.showToast({icon:e,title:t,mask:!0,duration:i})},skipUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/login/login",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;1==i?uni.reLaunch({url:t}):uni.navigateTo({url:t})}}};i.default=l},ecc8:function(t,i,e){t.exports=e.p+"static/img/caidai.53f9ac66.png"},ef2f:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".fire-canvas[data-v-27236f52]{position:fixed;top:0;left:0;pointer-events:none}",""]),t.exports=i}}]);